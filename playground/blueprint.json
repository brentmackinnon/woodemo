{
	"$schema": "https://playground.wordpress.net/blueprint-schema.json",
	"preferredVersions": {
		"php": "latest",
		"wp": "latest"
	},
	"siteOptions": {
		"blogname": "Brent's Woo Demo"
	},
	"plugins": [
		{
			"resource": "url",
			"url": "https://raw.githubusercontent.com/brentmackinnon/woodemo/main/playground/zips/WooCommerce%209.7.1.zip"
		}
	],
	"steps": [
		{
			"step": "installTheme",
			"themeData": {
				"resource": "url",
				"url": "https://raw.githubusercontent.com/brentmackinnon/woodemo/main/playground/zips/twentytwentyfive.zip"
			}
		},
		{
			"step": "runPHP",
			"code": "<?php require_once(\"/wordpress/wp-load.php\"); 

// Create categories first
$categories = array(
    \"New and Featured\" => \"https://images.pexels.com/photos/2526878/pexels-photo-2526878.jpeg\",
    \"Men\" => \"https://images.pexels.com/photos/4761352/pexels-photo-4761352.jpeg\",
    \"Women\" => \"https://images.pexels.com/photos/1102776/pexels-photo-1102776.jpeg\",
    \"Kids\" => \"https://images.pexels.com/photos/1102776/pexels-photo-1102776.jpeg\"
); 

foreach ($categories as $cat_name => $image_url) { 
    $cat_id = wp_insert_term($cat_name, \"product_cat\"); 
    if (!is_wp_error($cat_id)) { 
        update_term_meta($cat_id[\"term_id\"], \"thumbnail_id\", attachment_url_to_postid($image_url)); 
    } 
} 

// Create products
$products = array(
    array(\"title\" => \"Performance Runner\", \"price\" => \"129.99\", \"category\" => \"Men\", \"image\" => \"https://images.pexels.com/photos/2529148/pexels-photo-2529148.jpeg\"),
    array(\"title\" => \"Training Max\", \"price\" => \"99.99\", \"category\" => \"Women\", \"image\" => \"https://images.pexels.com/photos/1598508/pexels-photo-1598508.jpeg\"),
    array(\"title\" => \"Street Style Pro\", \"price\" => \"89.99\", \"category\" => \"Kids\", \"image\" => \"https://images.pexels.com/photos/1240892/pexels-photo-1240892.jpeg\")
); 

foreach ($products as $product) { 
    $product_id = wp_insert_post(array(
        \"post_title\" => $product[\"title\"],
        \"post_content\" => \"Premium quality product with innovative design and superior comfort.\",
        \"post_status\" => \"publish\",
        \"post_type\" => \"product\"
    )); 
    update_post_meta($product_id, \"_price\", $product[\"price\"]); 
    update_post_meta($product_id, \"_regular_price\", $product[\"price\"]); 
    update_post_meta($product_id, \"_visibility\", \"visible\"); 
    update_post_meta($product_id, \"_stock_status\", \"instock\"); 
    update_post_meta($product_id, \"_virtual\", \"no\"); 
    wp_set_object_terms($product_id, $product[\"category\"], \"product_cat\"); 
} 

// Create the homepage
$page_id = wp_insert_post(array(
    \"post_title\" => \"\",
    \"post_content\" => '<!-- wp:cover {\"url\":\"https://images.pexels.com/photos/4753928/pexels-photo-4753928.jpeg\",\"dimRatio\":50,\"minHeight\":700,\"align\":\"full\"} --><div class=\"wp-block-cover alignfull\" style=\"min-height:700px\"><span aria-hidden=\"true\" class=\"wp-block-cover__background has-background-dim\"></span><img class=\"wp-block-cover__image-background\" alt=\"\" src=\"https://images.pexels.com/photos/4753928/pexels-photo-4753928.jpeg\" data-object-fit=\"cover\"/><div class=\"wp-block-cover__inner-container\"><!-- wp:heading {\"textAlign\":\"center\",\"level\":1,\"style\":{\"typography\":{\"fontSize\":\"4rem\"}}} --><h1 class=\"has-text-align-center\" style=\"font-size:4rem\">Just Woo It</h1><!-- /wp:heading --><!-- wp:paragraph {\"align\":\"center\",\"style\":{\"typography\":{\"fontSize\":\"1.5rem\"}}} --><p class=\"has-text-align-center\" style=\"font-size:1.5rem\">New Arrivals for Your Best Performance</p><!-- /wp:paragraph --><!-- wp:buttons {\"layout\":{\"type\":\"flex\",\"justifyContent\":\"center\"}} --><div class=\"wp-block-buttons\"><!-- wp:button {\"backgroundColor\":\"vivid-cyan-blue\",\"style\":{\"spacing\":{\"padding\":{\"top\":\"1rem\",\"bottom\":\"1rem\",\"left\":\"2rem\",\"right\":\"2rem\"}}}} --><div class=\"wp-block-button\"><a class=\"wp-block-button__link has-vivid-cyan-blue-background-color has-background wp-element-button\" style=\"padding-top:1rem;padding-right:2rem;padding-bottom:1rem;padding-left:2rem\">Shop Now</a></div><!-- /wp:button --></div><!-- /wp:buttons --></div></div><!-- /wp:cover --><!-- wp:spacer {\"height\":\"40px\"} --><div style=\"height:40px\" aria-hidden=\"true\" class=\"wp-block-spacer\"></div><!-- /wp:spacer --><!-- wp:heading {\"textAlign\":\"center\",\"style\":{\"typography\":{\"fontSize\":\"2.5rem\"}}} --><h2 class=\"has-text-align-center\" style=\"font-size:2.5rem\">Featured Categories</h2><!-- /wp:heading --><!-- wp:woocommerce/product-categories {\"columns\":3,\"align\":\"wide\"} /--><!-- wp:spacer {\"height\":\"60px\"} --><div style=\"height:60px\" aria-hidden=\"true\" class=\"wp-block-spacer\"></div><!-- /wp:spacer --><!-- wp:heading {\"textAlign\":\"center\",\"style\":{\"typography\":{\"fontSize\":\"2.5rem\"}}} --><h2 class=\"has-text-align-center\" style=\"font-size:2.5rem\">Trending Now</h2><!-- /wp:heading --><!-- wp:woocommerce/product-new {\"columns\":3,\"align\":\"wide\"} /--><!-- wp:spacer {\"height\":\"60px\"} --><div style=\"height:60px\" aria-hidden=\"true\" class=\"wp-block-spacer\"></div><!-- /wp:spacer --><!-- wp:cover {\"url\":\"https://images.pexels.com/photos/6740754/pexels-photo-6740754.jpeg\",\"dimRatio\":50,\"minHeight\":400,\"align\":\"full\"} --><div class=\"wp-block-cover alignfull\" style=\"min-height:400px\"><span aria-hidden=\"true\" class=\"wp-block-cover__background has-background-dim\"></span><img class=\"wp-block-cover__image-background\" alt=\"\" src=\"https://images.pexels.com/photos/6740754/pexels-photo-6740754.jpeg\" data-object-fit=\"cover\"/><div class=\"wp-block-cover__inner-container\"><!-- wp:heading {\"textAlign\":\"center\",\"level\":2,\"style\":{\"typography\":{\"fontSize\":\"2.5rem\"}}} --><h2 class=\"has-text-align-center\" style=\"font-size:2.5rem\">Join Our Community</h2><!-- /wp:heading --><!-- wp:paragraph {\"align\":\"center\"} --><p class=\"has-text-align-center\">Sign up for exclusive offers, latest styles, and performance tips.</p><!-- /wp:paragraph --><!-- wp:buttons {\"layout\":{\"type\":\"flex\",\"justifyContent\":\"center\"}} --><div class=\"wp-block-buttons\"><!-- wp:button {\"backgroundColor\":\"white\",\"textColor\":\"black\"} --><div class=\"wp-block-button\"><a class=\"wp-block-button__link has-black-color has-white-background-color has-text-color has-background wp-element-button\">Sign Up Now</a></div><!-- /wp:button --></div><!-- /wp:buttons --></div></div><!-- /wp:cover -->',
    \"post_status\" => \"publish\",
    \"post_type\" => \"page\"
)); 

// Set up the primary navigation menu
$menu_name = 'Primary Menu';
$menu_exists = wp_get_nav_menu_object($menu_name);
if (!$menu_exists) {
    $menu_id = wp_create_nav_menu($menu_name);
    
    // Add category links to the menu
    foreach ($categories as $cat_name => $image_url) {
        $cat = get_term_by('name', $cat_name, 'product_cat');
        if ($cat) {
            wp_update_nav_menu_item($menu_id, 0, array(
                'menu-item-title' => $cat_name,
                'menu-item-object' => 'product_cat',
                'menu-item-object-id' => $cat->term_id,
                'menu-item-type' => 'taxonomy',
                'menu-item-status' => 'publish'
            ));
        }
    }
    
    // Set the menu location
    $locations = get_theme_mod('nav_menu_locations');
    $locations['primary'] = $menu_id;
    set_theme_mod('nav_menu_locations', $locations);
}

// Update WooCommerce and WordPress settings
update_option(\"show_on_front\", \"page\");
update_option(\"page_on_front\", $page_id);
update_option(\"woocommerce_store_setup_complete\", \"yes\");
update_option(\"woocommerce_default_country\", \"US:CA\");
update_option(\"woocommerce_currency\", \"USD\");
update_option(\"woocommerce_currency_pos\", \"left\");

// Remove default pages
$default_pages = get_pages(array('post_type' => 'page', 'post_status' => 'publish'));
foreach ($default_pages as $page) {
    if ($page->ID != $page_id && $page->post_title != 'Cart' && $page->post_title != 'Checkout') {
        wp_delete_post($page->ID, true);
    }
}"
		}
	],
	"features": {
		"networking": true
	},
	"login": true,
	"landingPage": "/"
}